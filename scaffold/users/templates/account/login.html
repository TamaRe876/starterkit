{% extends "blog/base.html" %}
{% load crispy_forms_tags %}
{% load socialaccount %}

{% block title %}Login{% endblock %}

{% block content %}
<script>
   function onSubmit(token) {
     document.getElementById("login-form").submit();
   }
</script>

<div class="max-w-md mx-auto">
  <div class="bg-gray-800 shadow-md rounded px-8 pt-6 pb-8 mb-4">
    <form action="" method="POST" id="login-form">
      {% csrf_token %}
      <fieldset>
        <legend class="text-2xl font-bold mb-6 text-gray-100 border-b border-gray-700 pb-2">Login</legend>
        {{form|crispy}}
      </fieldset>
      <div class="flex items-center justify-between mt-6">
        <button class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline g-recaptcha" type="submit" data-sitekey="6Lcs3u8nAAAAAJqfthu8Gx5KmCqaOorYRXTEnsha" data-callback='onSubmit'>
          Login
        </button>
        <a class="inline-block align-baseline font-bold text-sm text-orange-500 hover:text-orange-600" href="{% url 'password_reset' %}">
          Forgot Password?
        </a>
      </div>
    </form>

    <div class="my-6 flex items-center">
      <div class="flex-grow border-t border-gray-700"></div>
      <span class="flex-shrink mx-4 text-gray-500">or</span>
      <div class="flex-grow border-t border-gray-700"></div>
    </div>

    <div class="space-y-4">
      <a class="w-full flex items-center justify-center px-4 py-2 border border-gray-700 rounded-md shadow-sm text-sm font-medium text-gray-200 bg-gray-700 hover:bg-gray-600" href="{% provider_login_url 'google' %}">
        <img class="h-5 w-5 mr-2" src="https://img.icons8.com/color/22/000000/google-logo.png" alt="Google logo">
        Sign In with <b class="ml-1">Google</b>
      </a>
      <a class="w-full flex items-center justify-center px-4 py-2 border border-gray-700 rounded-md shadow-sm text-sm font-medium text-gray-200 bg-gray-700 hover:bg-gray-600" href="{% provider_login_url 'github' %}">
        <img class="h-5 w-5 mr-2" src="https://img.icons8.com/material-sharp/24/000000/github.png" alt="GitHub logo">
        Sign In with <b class="ml-1">Github</b>
      </a>
    </div>

    <div class="mt-8 text-center">
      <span class="text-sm text-gray-500">
        Need an Account? <a class="font-bold text-orange-500 hover:text-orange-600" href="{% url 'register' %}">Sign Up Now</a>
      </span>
    </div>
  </div>
</div>
{% endblock %}
